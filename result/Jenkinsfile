pipeline{
  agent any
  
  tools{ 
   nodejs 'NodeJS 8.9.0' 
  }
  
  stages{
    
    stage(build){
      when{
       changeset "**/result/**"
      }

      steps{
        dir('result'){
          echo 'building result app'
          npm install
        }
      }
    }
    
    stage(test){
      when{ changeset "**/result/**"}
      
      steps{
        dir('result'){
          echo 'testing result-app'
          npm install
          npm test
        }
      }
    }
  }

  post{
    always{
      echo 'result pipeline completed...'
    }
  }
}
